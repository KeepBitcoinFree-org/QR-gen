<!DOCTYPE html>
<html>
  <head>
    <style>
      #row {
        border: .5px solid;
        padding: 20px;
        box-shadow: 5px 10px;
      }
    </style>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://larsjung.de/kjua/latest/kjua-0.9.0.min.js"></script>
    <title>QR</title>



    <script>

      function submitForm() {
        // clearing any previously generated QR codes
        document.getElementById("qrcode").innerHTML = "";

        // get text from form to create QR.
        var address=document.getElementById("address").value;

        if(!address){
          document.getElementById('qrcode').appendChild('Enter an address');
          return false;
        }else{
        console.log(address);
        // generate QR from text using kjua
        var el = kjua({text: address, rounded: 50});
        // append the QR code after form submit
        document.getElementById('qrcode').appendChild(el); 
        // stay on same page & don't actually submit the form, which triggers an action and redirect.
       return false;
      }
    }


  </script>
  </head>
  <body>
    <center>
    <div style="margin-left:50px 0;">
    <br />

    <form>
      <input id="address" placeholder="Enter an address or other text" size="55" /> <br /><br />
      <button onclick="return submitForm();" >Create QR from text </button>
    </form>

    <br /><br />

      <div id="qrcode"></div>
    </div>
  </center>
  </body>
  </html>
